# Параметры соединения
# (!)name server: grapefruit
# (?)server address: localhost
# (?)port: 5432
# (!)maintenance database: task_manager
# (!)username: ilia
# (!)password: ilia
#
# API базы данных:
#
# 1. РЕГИСТРАЦИЯ
# Вызов: SELECT registration(_login, _hash_passwd, _name, _surname)
# Параметры: строка(<=60) логин, строка(<=60) пароль, строка(<=50) имя, строка(<=50) фамилия
# Возвращаемое значение: boolean. True если все ограничения столбцов соблюдаются (ничто не равно null, логин уникален), иначе false.
# Описание: Вставка в таблицу Users.
#
# 2. АВТОРИЗАЦИЯ
# Вызов: SELECT authorization(_login, _passwd)
# Параметры: строка(<=60) логин, строка(<=60) пароль
# Возвращаемое значение: {id, имя, фамилия} пользователя если найден, null(или пустое множество)(скажи что вернется?, Илья) если не найден.
# Описание: Выборка из таблицы Users по логину и паролю
#
# 3. КАНБАН доска.
# После каждого вызова кроме 3.1 вызывать метод пункта 3.1
#
# 3.1 ПОЛУЧИТЬ СПИСОК ЗАДАЧ ПОЛЬЗОВАТЕЛЯ
# Вызов: SELECT get_kanban_info(_id_user)
# Параметры: число id
# Возвращаемое значение: множество кортежей, в одном кортеже содержится - id задачи, сама задача, категория и сложность задачи('1'-'5'). Или пустой кортеж, а у тебя что вернется?
# Описание: Выборка из таблицы Канбан, отсортированная по столбцу ord(порядковый номер), таким образом, чтобы задачи отображались на вебе в тех же позициях, в каких их оставил юзер, нужно соблюдать "очередь"(первый пришел, первый ушел).
#
# 3.2 ДОБАВИТЬ НОВУЮ ЗАДАЧУ
# Вызов: SELECT add_new_task(_id_user, _task, _level = '1')
# Параметры: число id, текст содержимое задачи, символ(1) опциональный параметр уровень сложности
# Возвращаемое значение: id задачи или null
# Описание: Вставка в таблицу Канбан, по триггеру до обновлению вычисляется порядковый номер как Max()+1, соответственно новая задача всегда добавляется в конец категории "задачи".
#
# 3.3 УДАЛИТЬ ЗАДАЧУ
# Вызов: delete_task(_id_kanban)
# Параметры: число id
# Возвращаемое значение: Boolean
# Описание: Удаление из таблицы канбан по первичному ключу. После удалению в триггеры обновляется порядковый номер задач, все задачи после удаляемой смещаются вверх.
#
# 3.4 ДЛЯ ПЕРЕТАСКИВАНИЯ В РАМКАХ ОДНОЙ КАТЕГОРИИ
# Расскажите про механизм перетаскивания
# Вызов: func_update_kanban_ord(_id_kanban_old, _id_kanban_new)
# Параметры: первый id - той задачи что перетаскивают, второй id той куда перетаскивают.
# Возвращаемое значение: Boolean
# Описание: небольшой алгоритм, который влияет в основном на сохранность перестановок задач пользователем.
#
# 3.5 ДЛЯ СМЕНЫ КАТЕГОРИИ
# Вызов: func_change_category(_id_kanban_old, _id_kanban_new = NULL)
# Параметры: первый id - тот что перетаскивают, второй - тот куда перетаскивают(вставка), он опционален если категория пуста или если он будет отсутствовать, добавления будет в конец новой категории.
# Возвращаемое значение: Boolean
# Описание: Виртуальное добавление в конец новой категории, затем если был передан второй параметр вызов 3.4. Самое сложное уследить за UNIQUE. Задачи не могут проскочить категории - неопределенное поведение, так как ограничений пока нет.
#
# 3.6 ОБНОВЛЕНИЕ НАЗВАНИЯ ЗАДАЧИ
# Вызов: update_task(_id_kanban, _task, _level = '1')
# Параметры: число id, текст новое название задачи, символ(1) опционально уровень сложности
# Возвращаемое значение: Boolean
# Описание: Скучная функция
#
#
# * можно явно передавать параметры таким образом (parameter => value)